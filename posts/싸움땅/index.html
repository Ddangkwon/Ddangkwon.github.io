<!DOCTYPE html><html lang="ko-KR" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="싸움땅" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="싸움땅 인기 게임인 싸움땅은 다음과 같은 방식으로 진행됩니다. 게임은 n * n 크기의 격자에서 진행되며, 각각의 격자에는 무기들이 있을 수 있습니다. 초기에는 무기들이 없는 빈 격자에 플레이어들이 위치하며 각 플레이어는 초기 능력치를 가집니다. 각 플레이어의 초기 능력치는 모두 다릅니다. 게임은 다음과 같은 방식으로 진행됩니다." /><meta property="og:description" content="싸움땅 인기 게임인 싸움땅은 다음과 같은 방식으로 진행됩니다. 게임은 n * n 크기의 격자에서 진행되며, 각각의 격자에는 무기들이 있을 수 있습니다. 초기에는 무기들이 없는 빈 격자에 플레이어들이 위치하며 각 플레이어는 초기 능력치를 가집니다. 각 플레이어의 초기 능력치는 모두 다릅니다. 게임은 다음과 같은 방식으로 진행됩니다." /><link rel="canonical" href="/posts/%EC%8B%B8%EC%9B%80%EB%95%85/" /><meta property="og:url" content="/posts/%EC%8B%B8%EC%9B%80%EB%95%85/" /><meta property="og:site_name" content="DK’s Software Engineering Knowledge Storage" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-10-13T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="싸움땅" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="k9n3TqutGkNvqf7uv9HP04BF1yRBxsowePxu32o6gBk" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-10-13T00:00:00+09:00","datePublished":"2023-10-13T00:00:00+09:00","description":"싸움땅 인기 게임인 싸움땅은 다음과 같은 방식으로 진행됩니다. 게임은 n * n 크기의 격자에서 진행되며, 각각의 격자에는 무기들이 있을 수 있습니다. 초기에는 무기들이 없는 빈 격자에 플레이어들이 위치하며 각 플레이어는 초기 능력치를 가집니다. 각 플레이어의 초기 능력치는 모두 다릅니다. 게임은 다음과 같은 방식으로 진행됩니다.","headline":"싸움땅","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/%EC%8B%B8%EC%9B%80%EB%95%85/"},"url":"/posts/%EC%8B%B8%EC%9B%80%EB%95%85/"}</script><title>싸움땅 | DK's Software Engineering Knowledge Storage</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="DK's Software Engineering Knowledge Storage"><meta name="application-name" content="DK's Software Engineering Knowledge Storage"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/green_galaxy.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">DK's Software Engineering Knowledge Storage</a></div><div class="site-subtitle font-italic">Software Engineering Knowledge Repo.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>싸움땅</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>싸움땅</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1697122800" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2023-10-13 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">DK</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5241 단어"> <em>29 분</em>읽는 시간</span></div></div></div><div class="post-content"><h1 id="싸움땅">싸움땅</h1><p>인기 게임인 싸움땅은 다음과 같은 방식으로 진행됩니다. 게임은 n * n 크기의 격자에서 진행되며, 각각의 격자에는 무기들이 있을 수 있습니다. 초기에는 무기들이 없는 빈 격자에 플레이어들이 위치하며 각 플레이어는 초기 능력치를 가집니다. 각 플레이어의 초기 능력치는 모두 다릅니다. 게임은 다음과 같은 방식으로 진행됩니다.</p><p>아래 그림에서 빨간색 배경의 숫자는 총의 경우 공격력을, 플레이어의 경우 초기 능력치를 의미하며, 노란색 배경의 숫자는 플레이어의 번호를 의미합니다.</p><p>하나의 라운드는 다음의 과정에 걸쳐 진행됩니다.</p><p>1-1. 첫 번째 플레이어부터 순차적으로 본인이 향하고 있는 방향대로 한 칸만큼 이동합니다. 만약 해당 방향으로 나갈 때 격자를 벗어나는 경우에는 정반대 방향으로 방향을 바꾸어서 1만큼 이동합니다.</p><p>2-1. 만약 이동한 방향에 플레이어가 없다면 해당 칸에 총이 있는지 확인합니다. 총이 있는 경우, 해당 플레이어는 총을 획득합니다. 플레이어가 이미 총을 가지고 있는 경우에는 놓여있는 총들과 플레이어가 가지고 있는 총 가운데 공격력이 더 쎈 총을 획득하고, 나머지 총들은 해당 격자에 둡니다.</p><p>2-2-1. 만약 이동한 방향에 플레이어가 있는 경우에는 두 플레이어가 싸우게 됩니다. 해당 플레이어의 초기 능력치와 가지고 있는 총의 공격력의 합을 비교하여 더 큰 플레이어가 이기게 됩니다. 만일 이 수치가 같은 경우에는 플레이어의 초기 능력치가 높은 플레이어가 승리하게 됩니다. 이긴 플레이어는 각 플레이어의 초기 능력치와 가지고 있는 총의 공격력의 합의 차이만큼을 포인트로 획득하게 됩니다.</p><p>2-2-2. 진 플레이어는 본인이 가지고 있는 총을 해당 격자에 내려놓고, 해당 플레이어가 원래 가지고 있던 방향대로 한 칸 이동합니다. 만약 이동하려는 칸에 다른 플레이어가 있거나 격자 범위 밖인 경우에는 오른쪽으로 90도씩 회전하여 빈 칸이 보이는 순간 이동합니다. 만약 해당 칸에 총이 있다면, 해당 플레이어는 가장 공격력이 높은 총을 획득하고 나머지 총들은 해당 격자에 내려 놓습니다.</p><p>2-2-3. 이긴 플레이어는 승리한 칸에 떨어져 있는 총들과 원래 들고 있던 총 중 가장 공격력이 높은 총을 획득하고, 나머지 총들은 해당 격자에 내려 놓습니다.</p><p>위 과정을 1번부터 n번 플레이어까지 순차적으로 한 번씩 진행하면 1 라운드가 끝나게 되고, 그 결과는 다음과 같습니다.</p><p>1번 라운드에 걸쳐 전체 플레이어가 획득한 포인트는 1번 사람부터 n번 사람까지 순서대로 [1, 0, 0, 0]입니다.</p><p>위의 과정을 한번더 반복하여 나온 2번 라운드 결과는 다음과 같으며, 2번 라운드 이후 획득한 포인트 역시 1번 라운드와 동일하게 [1, 0, 0, 0]이 됩니다.</p><p>k 라운드 동안 게임을 진행하면서 각 플레이어들이 획득한 포인트를 출력하는 프로그램을 작성해보세요.</p><ol><li>공격자의 공격 위에서 선정된 공격자는 자신을 제외한 가장 강한 포탑을 공격합니다. 가장 강한 포탑은 위에서 정한 가장 약한 포탑 선정 기준의 반대이며, 다음과 같습니다.</ol><p>공격력이 가장 높은 포탑이 가장 강한 포탑입니다. 만약 공격력이 가장 높은 포탑이 2개 이상이라면, 공격한지 가장 오래된 포탑이 가장 강한 포탑입니다. (모든 포탑은 시점 0에 모두 공격한 경험이 있다고 가정하겠습니다.) 만약 그러한 포탑이 2개 이상이라면, 각 포탑 위치의 행과 열의 합이 가장 작은 포탑이 가장 강한 포탑입니다. 만약 그러한 포탑이 2개 이상이라면, 각 포탑 위치의 열 값이 가장 작은 포탑이 가장 강한 포탑입니다. 위의 예시에서 공격 대상자를 선정해보겠습니다. 공격 대상인 가장 강한 포탑은 공격력이 가장 큰 26의 공격력을 가진 (3,4) 위치의 포탑이 됩니다.</p><p>공격을 할 때에는 레이저 공격을 먼저 시도하고, 만약 그게 안 된다면 포탄 공격을 합니다. 각 공격의 규칙은 다음과 같습니다.</p><p>(1) 레이저 공격 레이저는 다음의 규칙으로 움직입니다.</p><p>상하좌우의 4개의 방향으로 움직일 수 있습니다. 부서진 포탑이 있는 위치는 지날 수 없습니다. 가장자리에서 막힌 방향으로 진행하고자 한다면, 반대편으로 나옵니다. (예를 들어, 위의 예시에서 (2,3)에서 오른쪽으로 두번 이동한다면, (2,3) -&gt; (2,4) -&gt; (2,1) 순으로 이동합니다.) 레이저 공격은 공격자의 위치에서 공격 대상 포탑까지의 최단 경로로 공격합니다. 만약 그러한 경로가 존재하지 않는다면 (2) 포탄 공격을 진행합니다. 만약 경로의 길이가 똑같은 최단 경로가 2개 이상이라면, 우/하/좌/상의 우선순위대로 먼저 움직인 경로가 선택됩니다.</p><p>최단 경로가 정해졌으면, 공격 대상에는 공격자의 공격력 만큼의 피해를 입히며, 피해를 입은 포탑은 해당 수치만큼 공격력이 줄어듭니다. 또한 공격 대상을 제외한 레이저 경로에 있는 포탑도 공격을 받게 되는데, 이 포탑은 공격자 공격력의 절반 만큼의 공격을 받습니다. (절반이라 함은 공격력을 2로 나눈 몫을 의미합니다.)</p><p>(2) 포탄 공격 공격 대상에 포탄을 던집니다. 공격 대상은 공격자 공격력 만큼의 피해를 받습니다. 추가적으로 주위 8개의 방향에 있는 포탑도 피해를 입는데, 공격자 공격력의 절반 만큼의 피해를 받습니다. (절반이라 함은 공격력을 2로 나눈 몫을 의미합니다.) 공격자는 해당 공격에 영향을 받지 않습니다. 만약 가장자리에 포탄이 떨어졌다면, 위에서의 레이저 이동처럼 포탄의 추가 피해가 반대편 격자에 미치게 됩니다.</p><p>위의 예시에서 공격자가 공격 대상을 레이저로 공격하기 위한 최단 경로는 아래 그림과 같습니다. 최단 경로가 2개 이상 있지만, 오른쪽으로 먼저 움직이는 것이 우선 순위가 높기 때문에, 다음의 경로가 선택된 것입니다. 최단 경로가 정해졌기 때문에, 공격 대상에는 9만큼의 피해를 입히고, 경로에 있는 포탑에는 4(=9/2) 만큼의 피해를 입힙니다.</p><ol><li><p>포탑 부서짐 공격을 받아 공격력이 0 이하가 된 포탑은 부서집니다.</p><li><p>포탑 정비 공격이 끝났으면, 부서지지 않은 포탑 중 공격과 무관했던 포탑은 공격력이 1씩 올라갑니다. 공격과 무관하다는 뜻은 공격자도 아니고, 공격에 피해를 입은 포탑도 아니라는 뜻입니다.</p></ol><p>위의 예시에서 공격과 무관했던 다음 4개의 포탑은 정비를 받아 공격력이 1씩 증가합니다. 이렇게 첫 번째 턴이 종료됩니다.</p><p>다음 두 번째 턴이 시작되면, 다시 공격자 선정이 시작됩니다. 첫 번째 규칙에 따라 가장 공격력이 작은 9 만큼의 공격력을 가진 (1,2), (2,1), (2,4), (3,1) 위치의 포탑이 공격자 후보가 됩니다. 두 번째 규칙에 의해 가장 최근에 공격한 포탑인 (1,2) 포탑이 가장 약한 포탑이므로 공격자로 선정됩니다. 마찬가지로 핸디캡으로 8 만큼의 공격력을 얻습니다.</p><p>다음으로 공격 대상을 선택하면, 공격력이 가장 높은 (3,4)가 선택됩니다. 공격자의 위치에서 공격 대상의 위치까지 이동하는 경로가 없기 때문에, 레이저 공격은 불가능하여 포탄 공격을 수행하게 됩니다. 포탄은 공격 대상인 (3,4) 위치에 떨어지며, 공격 대상은 17만큼의 피해를 받고, 주변 8개의 방향에 있는 포탑은 8만큼의 피해를 받습니다.</p><p>마지막으로 공격과 무관했던 포탑은 정비를 받아 1 만큼의 공격력을 얻지만, 위의 예시에서는 부서지지 않은 포탑 중 공격과 무관했던 포탑이 없으므로, 최종 모습은 다음과 같습니다.</p><p>전체 과정이 종료된 후 남아있는 포탑 중 가장 강한 포탑의 공격력을 출력하는 프로그램을 작성해보세요.</p><h2 id="풀이-방법"><span class="mr-2">풀이 방법</span><a href="#풀이-방법" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>BFS로 최단거리에 있는 승객을 찾는다. BFS로 승객을 목적지까지 이동시킨다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstdio&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">struct</span> <span class="nc">Player</span><span class="p">{</span>
	<span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">y</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">stat</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">gun</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">dir</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">point</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// 상우하좌</span>
<span class="kt">int</span> <span class="n">dy</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">dx</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">};</span>

<span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">gun</span><span class="p">[</span><span class="mi">21</span><span class="p">][</span><span class="mi">21</span><span class="p">];</span>
<span class="n">Player</span> <span class="n">player</span><span class="p">[</span><span class="mi">31</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">ploc</span><span class="p">[</span><span class="mi">21</span><span class="p">][</span><span class="mi">21</span><span class="p">];</span>


<span class="c1">// 내림차순 정렬</span>
<span class="kt">bool</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">get_gun</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">idx</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">player</span><span class="p">[</span><span class="n">idx</span><span class="p">].</span><span class="n">gun</span> <span class="o">&lt;</span> <span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="p">{</span>
        <span class="c1">// 총 변경</span>
        <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">player</span><span class="p">[</span><span class="n">idx</span><span class="p">].</span><span class="n">gun</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">idx</span><span class="p">].</span><span class="n">gun</span> <span class="o">=</span> <span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
        <span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
        <span class="c1">// 공격력이 가장쎈 총이 가장 처음에 오도록 정렬</span>
        <span class="n">sort</span><span class="p">(</span><span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">].</span><span class="n">begin</span><span class="p">(),</span> <span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">].</span><span class="n">end</span><span class="p">(),</span> <span class="n">compare</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">fight</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">idx</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">win</span><span class="p">,</span> <span class="n">lose</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">scoreA</span> <span class="o">=</span> <span class="n">player</span><span class="p">[</span><span class="n">idx</span><span class="p">].</span><span class="n">stat</span> <span class="o">+</span> <span class="n">player</span><span class="p">[</span><span class="n">idx</span><span class="p">].</span><span class="n">gun</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">scoreB</span> <span class="o">=</span> <span class="n">player</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">stat</span> <span class="o">+</span> <span class="n">player</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">gun</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">scoreA</span> <span class="o">==</span> <span class="n">scoreB</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">player</span><span class="p">[</span><span class="n">idx</span><span class="p">].</span><span class="n">stat</span> <span class="o">&gt;</span> <span class="n">player</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">stat</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">win</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span>
            <span class="n">lose</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
     
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">win</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
            <span class="n">lose</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span>
    
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">scoreA</span> <span class="o">&gt;</span> <span class="n">scoreB</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">win</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span>
        <span class="n">lose</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">scoreA</span> <span class="o">-</span> <span class="n">scoreB</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">win</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
        <span class="n">lose</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">scoreB</span> <span class="o">-</span> <span class="n">scoreA</span><span class="p">;</span> 
    <span class="p">}</span>


    <span class="c1">//진 플레이어는 본인이 가지고 있는 총을 해당 격자에 내려놓고, 해당 플레이어가 원래 가지고 있던 방향대로 한 칸 이동합니다</span>
    <span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">player</span><span class="p">[</span><span class="n">lose</span><span class="p">].</span><span class="n">gun</span><span class="p">);</span>
    <span class="c1">// 공격력이 가장쎈 총이 가장 처음에 오도록 정렬</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">].</span><span class="n">begin</span><span class="p">(),</span> <span class="n">gun</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">].</span><span class="n">end</span><span class="p">(),</span> <span class="n">compare</span><span class="p">);</span>
    <span class="n">player</span><span class="p">[</span><span class="n">lose</span><span class="p">].</span><span class="n">gun</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">n_dir</span><span class="p">;</span>
    <span class="c1">// 진 플레이어의 이동</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">n_dir</span> <span class="o">=</span> <span class="p">(</span><span class="n">player</span><span class="p">[</span><span class="n">lose</span><span class="p">].</span><span class="n">dir</span> <span class="o">+</span> <span class="n">k</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">n_dir</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">nx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">n_dir</span><span class="p">];</span>
        <span class="c1">// 격자 밖일 경우 넘어가서 계속해서 오른쪽으로 90도 회전한다</span>
        <span class="c1">// if (ny &lt;= 0 || ny &gt; N || nx &lt;= 0 || nx &gt; N || ploc[ny][nx]) {</span>
		<span class="c1">// 	continue;</span>
		<span class="c1">// }</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ny</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">ny</span> <span class="o">&gt;</span> <span class="n">N</span> <span class="o">||</span> <span class="n">nx</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">nx</span> <span class="o">&gt;</span> <span class="n">N</span> <span class="o">||</span> <span class="n">ploc</span><span class="p">[</span><span class="n">ny</span><span class="p">][</span><span class="n">nx</span><span class="p">]</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">player</span><span class="p">[</span><span class="n">lose</span><span class="p">].</span><span class="n">y</span> <span class="o">=</span> <span class="n">ny</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">lose</span><span class="p">].</span><span class="n">x</span> <span class="o">=</span> <span class="n">nx</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">lose</span><span class="p">].</span><span class="n">dir</span> <span class="o">=</span> <span class="n">n_dir</span><span class="p">;</span>
        <span class="n">ploc</span><span class="p">[</span><span class="n">ny</span><span class="p">][</span><span class="n">nx</span><span class="p">]</span> <span class="o">=</span> <span class="n">lose</span><span class="p">;</span>
        <span class="n">get_gun</span><span class="p">(</span><span class="n">ny</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">lose</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>


    <span class="c1">// 패배자의 이동 이후 승리자의 위치 업데이트 및 총 변경</span>
    <span class="n">ploc</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">win</span><span class="p">;</span>
    <span class="n">player</span><span class="p">[</span><span class="n">win</span><span class="p">].</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
    <span class="n">player</span><span class="p">[</span><span class="n">win</span><span class="p">].</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">get_gun</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">win</span><span class="p">);</span>
    <span class="c1">// 스코어 업데이트</span>
    <span class="n">player</span><span class="p">[</span><span class="n">win</span><span class="p">].</span><span class="n">point</span> <span class="o">+=</span> <span class="n">score</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">simulate</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">while</span><span class="p">(</span><span class="o">++</span><span class="n">R</span> <span class="o">&lt;=</span> <span class="n">K</span><span class="p">)</span>
    <span class="p">{</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">M</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dir</span><span class="p">];</span>
            <span class="kt">int</span> <span class="n">nx</span> <span class="o">=</span> <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dir</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ny</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">ny</span> <span class="o">&gt;</span> <span class="n">N</span> <span class="o">||</span> <span class="n">nx</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">nx</span> <span class="o">&gt;</span> <span class="n">N</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dir</span> <span class="o">=</span> <span class="p">(</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dir</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">;</span>
                <span class="n">ny</span> <span class="o">=</span> <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dir</span><span class="p">];</span>
                <span class="n">nx</span> <span class="o">=</span> <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dir</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="c1">//이동한 방향에 플레이어가 없는 경우(총 주움)</span>
            
            <span class="k">if</span><span class="p">(</span><span class="n">ploc</span><span class="p">[</span><span class="n">ny</span><span class="p">][</span><span class="n">nx</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// 기존 사람 위치는 초기화</span>
                <span class="n">ploc</span><span class="p">[</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span><span class="p">][</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">ploc</span><span class="p">[</span><span class="n">ny</span><span class="p">][</span><span class="n">nx</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span> <span class="o">=</span> <span class="n">ny</span><span class="p">;</span>
                <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span> <span class="o">=</span> <span class="n">nx</span><span class="p">;</span>
                <span class="n">get_gun</span><span class="p">(</span><span class="n">ny</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">//이동한 방향에 플레이어가 있는 경우(싸움)</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">ploc</span><span class="p">[</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span><span class="p">][</span><span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">fight</span><span class="p">(</span><span class="n">ny</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ploc</span><span class="p">[</span><span class="n">ny</span><span class="p">][</span><span class="n">nx</span><span class="p">],</span> <span class="n">i</span><span class="p">);</span>
            <span class="p">}</span>
            
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">g</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d %d %d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">N</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">M</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">K</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">g</span><span class="p">);</span>
            <span class="n">gun</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">M</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d %d %d %d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">d</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">);</span>

        <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dir</span> <span class="o">=</span> <span class="n">d</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">stat</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">gun</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">point</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">ploc</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">simulate</span><span class="p">();</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">M</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%d "</span><span class="p">,</span> <span class="n">player</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">point</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>정답코드</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;tuple&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span>
<span class="cp">#define MAX_N 20
#define MAX_M 30
#define DIR_NUM 4
#define Player tuple&lt;int, int, int, int, int, int&gt;
#define EMPTY make_tuple(-1, -1, -1, -1, -1, -1)
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// 변수 선언</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>

<span class="c1">// 각 칸마다 놓여있는 총 목록을 관리합니다.</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">gun</span><span class="p">[</span><span class="n">MAX_N</span><span class="p">][</span><span class="n">MAX_N</span><span class="p">];</span>

<span class="c1">// 각 칸마다 플레이어 정보를 관리합니다.</span>
<span class="c1">// 순서대로 (num, x, y, d, s, a) 정보를 관리합니다.</span>
<span class="c1">// (x, y)위치에서 방향 d를 보고 있으며</span>
<span class="c1">// 초기 능력치가 s인 num번 플레이어가</span>
<span class="c1">// 공격력이 a인 총을 들고 있음을 뜻합니다.</span>
<span class="c1">// 총이 없으면 a는 0입니다.</span>
<span class="n">Player</span> <span class="n">players</span><span class="p">[</span><span class="n">MAX_M</span><span class="p">];</span>

<span class="c1">// 입력으로 주어지는</span>
<span class="c1">// 방향 순서대로 </span>
<span class="c1">// dx, dy를 정의합니다.</span>
<span class="c1">// ↑, →, ↓, ←</span>
<span class="kt">int</span> <span class="n">dx</span><span class="p">[</span><span class="n">DIR_NUM</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">dy</span><span class="p">[</span><span class="n">DIR_NUM</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span>

<span class="c1">// 플레이어들의 포인트 정보를 기록합니다.</span>
<span class="kt">int</span> <span class="n">points</span><span class="p">[</span><span class="n">MAX_M</span><span class="p">];</span>

<span class="c1">// (x, y)가 격자를 벗어나는지 확인합니다.</span>
<span class="kt">bool</span> <span class="nf">InRange</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 현재 (x, y)위치에서 방향 d를 보고 있을 때</span>
<span class="c1">// 그 다음 위치와 방향을 찾아줍니다.</span>
<span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">GetNext</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">nx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">d</span><span class="p">],</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">d</span><span class="p">];</span>
    <span class="c1">// 격자를 벗어나면</span>
    <span class="c1">// 방향을 뒤집어</span>
    <span class="c1">// 반대 방향으로 한 칸 이동합니다.</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">InRange</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">))</span> <span class="p">{</span>
        <span class="c1">// 반대 방향 : 0 &lt;-&gt; 2 / 1 &lt;-&gt; 3</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="n">d</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">:</span> <span class="p">(</span><span class="n">d</span> <span class="o">-</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">nx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">d</span><span class="p">],</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">d</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nf">make_tuple</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">d</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 해당 칸에 있는 Player를 찾아줍니다.</span>
<span class="c1">// 없다면 EMPTY를 반환합니다.</span>
<span class="n">Player</span> <span class="nf">FindPlayer</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">pos</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
        <span class="n">tie</span><span class="p">(</span><span class="n">ignore</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span> <span class="o">=</span> <span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="k">if</span><span class="p">(</span><span class="n">pos</span> <span class="o">==</span> <span class="n">make_pair</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">EMPTY</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Player p의 정보를 갱신해줍니다.</span>
<span class="kt">void</span> <span class="nf">Update</span><span class="p">(</span><span class="n">Player</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">num</span><span class="p">;</span>
    <span class="n">tie</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>

    <span class="c1">// Player의 위치를 찾아</span>
    <span class="c1">// 값을 갱신해줍니다.</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">num_i</span><span class="p">;</span>
        <span class="n">tie</span><span class="p">(</span><span class="n">num_i</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span> <span class="o">=</span> <span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="k">if</span><span class="p">(</span><span class="n">num_i</span> <span class="o">==</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 플레이어 p를 pos 위치로 이동시켜줍니다.</span>
<span class="kt">void</span> <span class="nf">Move</span><span class="p">(</span><span class="n">Player</span> <span class="n">p</span><span class="p">,</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">pos</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">tie</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
    
    <span class="kt">int</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">;</span>
    <span class="n">tie</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">)</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>

    <span class="c1">// 가장 좋은 총으로 갱신해줍니다.</span>
    <span class="n">gun</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">ny</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">gun</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">ny</span><span class="p">].</span><span class="n">begin</span><span class="p">(),</span> <span class="n">gun</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">ny</span><span class="p">].</span><span class="n">end</span><span class="p">(),</span> <span class="n">greater</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">());</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">gun</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">ny</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
    <span class="n">gun</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">ny</span><span class="p">].</span><span class="n">erase</span><span class="p">(</span><span class="n">gun</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">ny</span><span class="p">].</span><span class="n">begin</span><span class="p">());</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">make_tuple</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
    <span class="n">Update</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 진 사람의 움직임을 진행합니다.</span>
<span class="c1">// 결투에서 패배한 위치는 pos입니다.</span>
<span class="kt">void</span> <span class="nf">LoserMove</span><span class="p">(</span><span class="n">Player</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">tie</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
    
    <span class="c1">// 먼저 현재 위치에 총을 내려놓게 됩니다.</span>
    <span class="n">gun</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>

    <span class="c1">// 빈 공간을 찾아 이동하게 됩니다.</span>
    <span class="c1">// 현재 방향에서 시작하여</span>
    <span class="c1">// 90'씩 시계방향으로</span>
    <span class="c1">// 회전하다가 </span>
    <span class="c1">// 비어있는 최초의 곳으로 이동합니다.</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ndir</span> <span class="o">=</span> <span class="p">(</span><span class="n">d</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">nx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">ndir</span><span class="p">],</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">ndir</span><span class="p">];</span>
        <span class="k">if</span><span class="p">(</span><span class="n">InRange</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">FindPlayer</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">))</span> <span class="o">==</span> <span class="n">EMPTY</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">make_tuple</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ndir</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">Move</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">make_pair</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">));</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// p2과 p2가 pos에서 만나 결투를 진행합니다.</span>
<span class="kt">void</span> <span class="nf">Duel</span><span class="p">(</span><span class="n">Player</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Player</span> <span class="n">p2</span><span class="p">,</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">pos</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">num1</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">a1</span><span class="p">;</span>
    <span class="n">tie</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">a1</span><span class="p">)</span> <span class="o">=</span> <span class="n">p1</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">num2</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">a2</span><span class="p">;</span>
    <span class="n">tie</span><span class="p">(</span><span class="n">num2</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">a2</span><span class="p">)</span> <span class="o">=</span> <span class="n">p2</span><span class="p">;</span>

    <span class="c1">// (초기 능력치 + 총의 공격력, 초기 능력치) 순으로 우선순위를 매겨 비교합니다.</span>

    <span class="c1">// p1이 이긴 경우</span>
    <span class="k">if</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">a1</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">make_pair</span><span class="p">(</span><span class="n">s2</span> <span class="o">+</span> <span class="n">a2</span><span class="p">,</span> <span class="n">s2</span><span class="p">))</span> <span class="p">{</span>
        <span class="c1">// p1은 포인트를 얻게 됩니다.</span>
        <span class="n">points</span><span class="p">[</span><span class="n">num1</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">a1</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">s2</span> <span class="o">+</span> <span class="n">a2</span><span class="p">);</span>
        <span class="c1">// p2는 진 사람의 움직임을 진행합니다.</span>
        <span class="n">LoserMove</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
        <span class="c1">// 이후 p1은 이긴 사람의 움직임을 진행합니다.</span>
        <span class="n">Move</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">pos</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// p2가 이긴 경우</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// p2는 포인트를 얻게 됩니다.</span>
        <span class="n">points</span><span class="p">[</span><span class="n">num2</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">s2</span> <span class="o">+</span> <span class="n">a2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">a1</span><span class="p">);</span>
        <span class="c1">// p1은 진 사람의 움직임을 진행합니다.</span>
        <span class="n">LoserMove</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
        <span class="c1">// 이후 p2는 이긴 사람의 움직임을 진행합니다.</span>
        <span class="n">Move</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">pos</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 1라운드를 진행합니다.</span>
<span class="kt">void</span> <span class="nf">Simulate</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 첫 번째 플레이어부터 순서대로 진행합니다.</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">;</span>
        <span class="n">tie</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="o">=</span> <span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>


        <span class="c1">// Step 1-1. 현재 플레이어가 움직일 그 다음 위치와 방향을 구합니다.</span>
        <span class="kt">int</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">ndir</span><span class="p">;</span>
        <span class="n">tie</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">ndir</span><span class="p">)</span> <span class="o">=</span> <span class="n">GetNext</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">);</span>
        
        <span class="c1">// 해당 위치에 있는 전 플레이어 정보를 얻어옵니다.</span>
        <span class="n">Player</span> <span class="n">next_player</span> <span class="o">=</span> <span class="n">FindPlayer</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">));</span>
        
        <span class="c1">// 현재 플레이어의 위치와 방향을 보정해줍니다.</span>
        <span class="n">Player</span> <span class="n">curr_player</span> <span class="o">=</span> <span class="n">make_tuple</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">ndir</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
        <span class="n">Update</span><span class="p">(</span><span class="n">curr_player</span><span class="p">);</span>
        
        <span class="c1">// Step 2. 해당 위치로 이동해봅니다.</span>
        <span class="c1">// Step 2-1. 해당 위치에 플레이어가 없다면 그대로 움직입니다.</span>
        <span class="k">if</span><span class="p">(</span><span class="n">next_player</span> <span class="o">==</span> <span class="n">EMPTY</span><span class="p">)</span>
            <span class="n">Move</span><span class="p">(</span><span class="n">curr_player</span><span class="p">,</span> <span class="n">make_pair</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">));</span>
        <span class="c1">// Step 2-2. 해당 위치에 플레이어가 있다면 결투를 진행합니다.</span>
        <span class="k">else</span>
            <span class="n">Duel</span><span class="p">(</span><span class="n">curr_player</span><span class="p">,</span> <span class="n">next_player</span><span class="p">,</span> <span class="n">make_pair</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 입력:</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span> <span class="o">&gt;&gt;</span> <span class="n">k</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">num</span><span class="p">;</span>
            <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">num</span><span class="p">;</span>

            <span class="c1">// 총이 놓여 있는 칸입니다.</span>
            <span class="k">if</span><span class="p">(</span><span class="n">num</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">gun</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="c1">// 플레이어 정보를 입력받습니다.</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="n">y</span> <span class="o">&gt;&gt;</span> <span class="n">d</span> <span class="o">&gt;&gt;</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">make_tuple</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// k번에 걸쳐 시뮬레이션을 진행합니다.</span>
    <span class="k">while</span><span class="p">(</span><span class="n">k</span><span class="o">--</span><span class="p">)</span>
        <span class="n">Simulate</span><span class="p">();</span>
    
    <span class="c1">// 각 플레이어가 획득한 포인트를 출력합니다.</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/codingtest/'>CodingTest</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/codingtest/" class="post-tag no-text-decoration" >CodingTest</a> <a href="/tags/simulation/" class="post-tag no-text-decoration" >simulation</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%8B%B8%EC%9B%80%EB%95%85+-+DK%27s+Software+Engineering+Knowledge+Storage&url=%2Fposts%2F%25EC%258B%25B8%25EC%259B%2580%25EB%2595%2585%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%8B%B8%EC%9B%80%EB%95%85+-+DK%27s+Software+Engineering+Knowledge+Storage&u=%2Fposts%2F%25EC%258B%25B8%25EC%259B%2580%25EB%2595%2585%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2F%25EC%258B%25B8%25EC%259B%2580%25EB%2595%2585%2F&text=%EC%8B%B8%EC%9B%80%EB%95%85+-+DK%27s+Software+Engineering+Knowledge+Storage" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Algorithm_Hash/">Algorithm_Hash</a><li><a href="/posts/Algorithm_Floyd-Warshall/">Algorithm_Floyd Warshall</a><li><a href="/posts/%EA%B2%BD%EB%A1%9C-%EC%B0%BE%EA%B8%B0/">경로 찾기</a><li><a href="/posts/Algorithm_Dijkstra/">Algorithm_Dijkstra</a><li><a href="/posts/%EC%83%9D%EB%AA%85%EC%B2%B4-%EB%B6%84%EB%A5%98/">생명체 분류</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/codingtest/">CodingTest</a> <a class="post-tag" href="/tags/bfs/">BFS</a> <a class="post-tag" href="/tags/simulation/">simulation</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/dfs/">DFS</a> <a class="post-tag" href="/tags/embedded-engineering/">Embedded Engineering</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/stl/">STL</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/dijkstra/">Dijkstra</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EB%AF%B8%EC%83%9D%EB%AC%BC-%EA%B2%A9%EB%A6%AC/"><div class="card-body"> <em class="small" data-ts="1747494000" data-df="YYYY-MM-DD" > 2025-05-18 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>미생물 격리</h3><div class="text-muted small"><p> 미생물 격리 문제 번호: SWEA 2382 문제 이름: 미생물 격리 출처: SWEA 2382번 문제 링크 NxN 격자 안에서 미생물 군집들이 상하좌우로 이동한다. 격자 가장자리에 도달하면 미생물 수가 절반으로 줄고 방향이 반대로 바뀐다. 이동 후 같은 칸에 여러 군집이 모이면 가장 큰 군집이 다른 군집을 흡수한다. 입력 테스트 케이스 개수...</p></div></div></a></div><div class="card"> <a href="/posts/%ED%99%88-%EB%B0%A9%EB%B2%94-%EC%84%9C%EB%B9%84%EC%8A%A4/"><div class="card-body"> <em class="small" data-ts="1747494000" data-df="YYYY-MM-DD" > 2025-05-18 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>홈 방범 서비스</h3><div class="text-muted small"><p> 홈 방범 서비스 📌 문제 설명 N x N 크기의 격자 마을이 있다. 각 칸은 집이 있거나(1), 없거나(0) 로 구성되어 있으며, 홈 방범 서비스를 제공할 수 있는 영역은 마름모 모양이다. 마름모의 중심 좌표를 기준으로 서비스 범위 K를 정하면, 방범 서비스 영역은 아래와 같은 범위로 커버된다. 서비스 영역 크기: K일 때 비용 = K * ...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%9B%90%EC%9E%90-%EC%86%8C%EB%A9%B8-%EC%8B%9C%EB%AE%AC%EB%A0%88%EC%9D%B4%EC%85%98/"><div class="card-body"> <em class="small" data-ts="1748876400" data-df="YYYY-MM-DD" > 2025-06-03 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>원자 소멸 시뮬레이션</h3><div class="text-muted small"><p> 원자 소멸 시뮬레이션 1. 문제 설명 2차원 평면 위에서 여러 개의 원자가 이동한다. 각 원자는 위치(x, y), 이동 방향, 에너지를 가진다. 모든 원자는 1초마다 0.5초씩 이동한다. 두 개 이상의 원자가 같은 위치에 오면 충돌 후 소멸한다. 충돌한 원자들의 에너지는 합산되어 소멸 에너지로 누적된다. 소멸 에너지의 총합을...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%ED%8F%AC%ED%83%91%EB%B6%80%EC%88%98%EA%B8%B0/" class="btn btn-outline-primary" prompt="이전 글"><p>포탑부수기</p></a> <a href="/posts/%EC%88%A0%EB%9E%98%EC%9E%A1%EA%B8%B0/" class="btn btn-outline-primary" prompt="다음 글"><p>싸움땅</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/username">DK</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/codingtest/">CodingTest</a> <a class="post-tag" href="/tags/bfs/">BFS</a> <a class="post-tag" href="/tags/simulation/">simulation</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/dfs/">DFS</a> <a class="post-tag" href="/tags/embedded-engineering/">Embedded Engineering</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/stl/">STL</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/dijkstra/">Dijkstra</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
