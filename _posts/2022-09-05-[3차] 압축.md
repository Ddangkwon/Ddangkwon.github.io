---
layout : post
title : [3차] 압축
comments : true
categories : 
- CodingTest
tags : [CodingTest, 문자열]
---
# [3차] 압축

map 과 문자열 분류를 통해 문제를 해결한다.


```cpp
#include <string>
#include <vector>
#include <map>
using namespace std;

vector<int> solution(string msg) {
    vector<int> answer;
    map<string, int> LZW;
    int dic_num = 26;
    // stage 1
    
    for(int i = 1; i <=26; i++)
    {
        char ch = 'A' + (i - 1);
        string s = "";
        s = ch;
        LZW[s] = i;
    }
        
    // stage 2, 3, 4
    while(msg.size() != 0)
    {
        for(int i = 1; i <=msg.size();i++)
        {
            // 0번 인덱스부터 i-1번 인덱스 문자 범위까지 문자열 분리
            string subst = msg.substr(0, i);
            // 해당 단어가 사전에 없을 때 
            if(LZW[subst] == 0)
            {
                //등록
                LZW[subst] = ++dic_num;
                // 등록 이전 문자열까지는 이미 등록된 문자이므로 해당 문자에 대응하는 색인 번호를 찾고 등록
                string dic_add = msg.substr(0, i - 1);
                answer.push_back(LZW[dic_add]);
                // msg를 잘라낸다
                msg = msg.substr(i - 1, (msg.size() - dic_add.size()));
                // msg를 갱신 시켰을 경우 break로 탈출하여 다시 처음부터 시작
                break;
            }
            
            // 해당 단어가 사전에 있을 때
            else
            {
                // 사전에 있고 남은 msg 사이즈와 탐색 인덱스가 동일할 경우 마지막에 도달한 것
                if(msg.size() == i)
                {
                    answer.push_back(LZW[msg]);
                    //문자열 초기화
                    msg = "";
                }
            }
        }
    }

    return answer;
}
```