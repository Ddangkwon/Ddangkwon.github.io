---
layout : post
title : 원자 소멸 시뮬레이션
comments : true
categories : 
- CodingTest
tags : [CodingTest, simulation]

---

# 원자 소멸 시뮬레이션

## 1. 문제 설명

* 2차원 평면 위에서 여러 개의 원자가 이동한다.
* 각 원자는 위치(x, y), 이동 방향, 에너지를 가진다.
* 모든 원자는 1초마다 0.5초씩 이동한다.
* 두 개 이상의 원자가 같은 위치에 오면 충돌 후 소멸한다.
* 충돌한 원자들의 에너지는 합산되어 소멸 에너지로 누적된다.
* 소멸 에너지의 총합을 구하는 것이 목적이다.

## 2. 입력 및 출력 예시

**입력**

* 첫 줄: 테스트 케이스 수 T
* 각 테스트 케이스의 첫 줄: 원자 개수 N
* 다음 N줄: x, y, 방향, 에너지

**출력**

* 각 테스트 케이스마다: **#테스트케이스번호 결과**

**입력 예시**

2
4
0 0 1 10
0 2 2 20
2 0 3 30
2 2 0 40
3
0 0 1 5
0 1 0 5
2 2 2 10

**출력 예시**

\#1 60
\#2 10

## 3. 좌표 변환 및 시뮬레이션 포인트

* **좌표 범위**: 입력에서 -1000 이상 1000 이하로 주어진다.
* 원자가 0.5초마다 이동하므로, 모든 좌표에 2를 곱해 정수로 변환하여 시뮬레이션한다.
* 시뮬레이션을 편하게 하기 위해서 원자 위치를 맵에 기록하여 관리한다.

## 4. 방향 정의

* 0: 상(Up, y+1)
* 1: 하(Down, y-1)
* 2: 좌(Left, x-1)
* 3: 우(Right, x+1)

## 5. 풀이

```cpp

```

## 6. 알고리즘 풀이 순서 요약

1. 입력을 받아 원자 구조체 벡터에 저장한다.
2. 모든 좌표를 0.5초 단위의 정수 좌표로 변환하여 관리한다.
3. 각 스텝마다

   * 살아있는 원자만 이동시킨다.
   * 이동 후 각 위치에 원자가 몇 개가 있는지 맵으로 관리한다.
   * 같은 위치에 2개 이상 원자가 있으면 모두 소멸시키고 에너지를 누적한다.
   * 맵 밖으로 나간 원자는 소멸 처리한다.
4. 더 이상 충돌이 일어나지 않을 때까지 반복한다.
5. 최종 소멸 에너지를 출력한다.

## 7. 주요 포인트

* 0.5초 단위 이동을 위해 좌표 스케일을 2배로 늘려서 계산해야 한다.
* 같은 위치에서만 충돌이 발생한다는 점에 주의한다.
* map, vector, struct 등 STL 컨테이너를 적극 활용하면 편리하다.
* 무한 루프가 돌지 않도록, 시뮬레이션은 충분한 step 후 종료한다.
* 살아있는 원자의 수가 0이 되면 더이상 시뮬레이션할 필요 없다.



---
