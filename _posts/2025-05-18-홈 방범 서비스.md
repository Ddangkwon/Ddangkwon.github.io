---
layout : post
title : í™ˆ ë°©ë²” ì„œë¹„ìŠ¤
comments : true
categories : 
- CodingTest
tags : [CodingTest, simulation]

---

# í™ˆ ë°©ë²” ì„œë¹„ìŠ¤

## ğŸ“Œ ë¬¸ì œ ì„¤ëª…

N x N í¬ê¸°ì˜ ê²©ì ë§ˆì„ì´ ìˆë‹¤. ê° ì¹¸ì€ **ì§‘ì´ ìˆê±°ë‚˜(1), ì—†ê±°ë‚˜(0)** ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, í™ˆ ë°©ë²” ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆëŠ” ì˜ì—­ì€ **ë§ˆë¦„ëª¨ ëª¨ì–‘**ì´ë‹¤.  
ë§ˆë¦„ëª¨ì˜ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ **ì„œë¹„ìŠ¤ ë²”ìœ„ K**ë¥¼ ì •í•˜ë©´, ë°©ë²” ì„œë¹„ìŠ¤ ì˜ì—­ì€ ì•„ë˜ì™€ ê°™ì€ ë²”ìœ„ë¡œ ì»¤ë²„ëœë‹¤.

> ì„œë¹„ìŠ¤ ì˜ì—­ í¬ê¸°: `K`ì¼ ë•Œ ë¹„ìš© = **K * K + (K - 1) * (K - 1)**  
> ë‹¨, ê° ì§‘ì—ì„œëŠ” **1ë§Œí¼ì˜ ìˆ˜ìµ**ì´ ë°œìƒ

**ì¡°ê±´**  
- ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆëŠ” ì˜ì—­ì€ ì–´ëŠ ê³³ì´ë“  ì„ íƒ ê°€ëŠ¥
- **ì†í•´ê°€ ë‚˜ì§€ ì•Šìœ¼ë©´ì„œ** ê°€ì¥ ë§ì€ ì§‘ì— ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ê²½ìš°ë¥¼ ì°¾ëŠ” ë¬¸ì œ

---

## ğŸ“¥ ì…ë ¥ ì¡°ê±´

- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜ T
- ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:
  - ì²« ì¤„: `N M`  
    - `N`: ë§ˆì„ í¬ê¸° (5 â‰¤ N â‰¤ 20)
    - `M`: ì§‘ 1ì±„ ë‹¹ ì–»ëŠ” ìˆ˜ìµ (1 â‰¤ M â‰¤ 10)
  - ë‹¤ìŒ Nì¤„: `0` ë˜ëŠ” `1`ë¡œ êµ¬ì„±ëœ ë§ˆì„ ì •ë³´

---

## âœ… ì¶œë ¥ ì¡°ê±´

- ì†í•´ ì—†ì´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆëŠ” **ìµœëŒ€ ì§‘ ìˆ˜**

---

## ğŸ§  í’€ì´ ì „ëµ

1. ë§ˆì„ì˜ ëª¨ë“  ì¢Œí‘œë¥¼ ë§ˆë¦„ëª¨ ì¤‘ì‹¬ì ìœ¼ë¡œ ì¡ëŠ”ë‹¤
2. K ê°’ì„ 1ë¶€í„° 2Nê¹Œì§€ ë°˜ë³µ
3. ë§ˆë¦„ëª¨ ë²”ìœ„ì— í¬í•¨ëœ ì§‘ì˜ ìˆ˜ë¥¼ ê³„ì‚°
4. ìˆ˜ìµ = ì§‘ì˜ ìˆ˜ * M  
   ë¹„ìš© = `K*K + (K-1)*(K-1)`  
   â†’ ì†í•´ ì—¬ë¶€ íŒë³„ í›„ ìµœëŒ€ê°’ ê°±ì‹ 

---

## ğŸ”§ í•µì‹¬ ë¡œì§ (ì•„ì´ë””ì–´)

- BFS í˜¹ì€ ë§ˆë¦„ëª¨ ë²”ìœ„ ìˆ˜í•™ì  ê³„ì‚°ì„ ì´ìš©í•´ ì»¤ë²„ ì˜ì—­ íƒìƒ‰
- ì†ìµ ì—¬ë¶€ íŒë‹¨ì„ ìœ„í•œ ìˆ˜ì‹ ì‚¬ìš©
- ì™„ì „íƒìƒ‰ (N*N*K)ì˜ ë²”ìœ„ëŠ” ì œí•œ ë‚´ì—ì„œ ì¶©ë¶„íˆ ê°€ëŠ¥

---


- ì‹œê°„ì´ˆê³¼ê°€ ë‚˜ëŠ” ì˜¤ë‹µ
- ë§ˆë¦„ëª¨ ëª¨ì–‘ìœ¼ë¡œ í¼ì ¸ë‚˜ê°€ëŠ” ë°©ì‹ ë•Œë¬¸ì— bfs ë¥¼ ê³ ë ¤í–ˆìœ¼ë‚˜ bfs ë¥¼ ë„ˆë¬´ ë§ì´ í˜¸ì¶œí•˜ì—¬ ì‹œê°„ì´ˆê³¼ ë°œìƒ
```cpp
#include <iostream>
#include <queue>
#include <algorithm>

#define ARR_MAX_LEN 25

using namespace std;

int N, M, T, answer = 0;
int arrmap[ARR_MAX_LEN][ARR_MAX_LEN] = { 0 };

typedef struct {
  int y;
  int x;
} cord;

int dy[4] = { -1, 1, 0, 0 };
int dx[4] = { 0, 0, -1, 1 };

void input_func() {
  cin >> N >> M;
  for (int i = 0; i < N; i++)
    for (int j = 0; j < N; j++)
      cin >> arrmap[i][j];
}

int manage_cost(int k) {
  return k * k + (k - 1) * (k - 1);
}

int bfs(int y, int x, int len) {
  queue<cord> q;
  int home_cnt = 0;
  int cntmap[ARR_MAX_LEN][ARR_MAX_LEN] = { 0 };
  bool isvisited[ARR_MAX_LEN][ARR_MAX_LEN] = { false };

  q.push({ y, x });
  isvisited[y][x] = true;
  cntmap[y][x] = 1;

  while (!q.empty()) {
    int cy = q.front().y;
    int cx = q.front().x;
    q.pop();

    if (cntmap[cy][cx] > len)
      continue;

    if (arrmap[cy][cx] == 1)
      home_cnt++;

    for (int dir = 0; dir < 4; dir++) {
      int ny = cy + dy[dir];
      int nx = cx + dx[dir];
      if (ny < 0 || ny >= N || nx < 0 || nx >= N)
        continue;
      if (!isvisited[ny][nx]) {
        q.push({ ny, nx });
        isvisited[ny][nx] = true;
        cntmap[ny][nx] = cntmap[cy][cx] + 1;
      }
    }
  }

  return home_cnt;
}

void simulate() {
  int max_len = N + 1;
  for (int len = 1; len <= max_len; len++) {
    int cost = manage_cost(len);
    for (int i = 0; i < N; i++) {
      for (int j = 0; j < N; j++) {
        int home_cnt_temp = bfs(i, j, len);
        int profit = home_cnt_temp * M;
        if (profit >= cost) {
          answer = max(answer, home_cnt_temp);
        }
      }
    }
  }
}

int main() {
  cin >> T;
  for (int tc = 1; tc <= T; tc++) {
    answer = 0;
    input_func();
    simulate();
    cout << "#" << tc << " " << answer << "\n";
  }

  return 0;
}

```
- ì‹œê°„ì´ˆê³¼ê°€ ì•ˆë‚˜ëŠ” ì˜³ì€ ì •ë‹µ

- ëª¨ë“  ì§‘ì˜ ì¢Œí‘œë¥¼ ë¯¸ë¦¬ ì €ì¥í•´ì„œ
--  â†’ í˜„ì¬ ë§ˆë¦„ëª¨ ì•ˆì— í¬í•¨ëœ ì§‘ë§Œ ë”°ì ¸ë¼
--  â†’ BFS ìì²´ë¥¼ ì—†ì• ê³  ìˆ˜í•™ì  ê±°ë¦¬ ë¹„êµë¡œ í•´ê²°

- ë§ˆë¦„ëª¨ ì•ˆì— í¬í•¨ë˜ëŠ” ì¢Œí‘œëŠ” |dy| + |dx| <= K - 1 ì¡°ê±´ë§Œ ë§Œì¡±í•˜ë©´ ë¨


```cpp
#include <iostream>
#include <vector>
#include <cmath>
#include <algorithm>

#define ARR_MAX_LEN 25

using namespace std;

int N, M, T, answer = 0;
int arrmap[ARR_MAX_LEN][ARR_MAX_LEN] = { 0 };

typedef struct {
  int y;
  int x;
} cord;

vector<cord> house_list;

int manage_cost(int k) {
  return k * k + (k - 1) * (k - 1);
}

void input_func() {
  cin >> N >> M;
  house_list.clear();
  for (int i = 0; i < N; i++) {
    for (int j = 0; j < N; j++) {
      cin >> arrmap[i][j];
        //ëª¨ë“  ì§‘ì˜ ì¢Œí‘œë¥¼ ë¯¸ë¦¬ ì €ì¥í•´ì„œ  í˜„ì¬ ë§ˆë¦„ëª¨ ì•ˆì— í¬í•¨ëœ ì§‘ë§Œ ë”°ì§€ê¸°
      if (arrmap[i][j] == 1)
        house_list.push_back({ i, j });
    }
  }
}

void simulate() {
  int max_len = 2 * N;

  for (int len = 1; len <= max_len; len++) {
    int cost = manage_cost(len);
    for (int i = 0; i < N; i++) {
      for (int j = 0; j < N; j++) {
        int home_cnt = 0;

	//ë§ˆë¦„ëª¨ ì•ˆì— í¬í•¨ë˜ëŠ” ì¢Œí‘œëŠ” |dy| + |dx| <= K - 1 ì¡°ê±´ë§Œ ë§Œì¡±í•˜ë©´ ë¨
        for (int idx = 0; idx < house_list.size(); idx++) {
          int dist = abs(i - house_list[idx].y) + abs(j - house_list[idx].x);
          if (dist < len)
            home_cnt++;
        }

        int profit = home_cnt * M;
        if (profit >= cost)
          answer = max(answer, home_cnt);
      }
    }
  }
}

int main() {
  cin >> T;
  for (int tc = 1; tc <= T; tc++) {
    answer = 0;
    input_func();
    simulate();
    cout << "#" << tc << " " << answer << "\n";
  }

  return 0;
}

```