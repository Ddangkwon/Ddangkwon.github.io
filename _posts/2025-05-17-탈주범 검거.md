---
layout : post
title : íƒˆì£¼ë²” ê²€ê±°
comments : true
categories : 
- CodingTest
tags : [CodingTest, DFS]

---

# íƒˆì£¼ë²” ê²€ê±° 

## ğŸ“˜ ë¬¸ì œ ê°œìš”

íƒˆì£¼ë²”ì´ ì§€í•˜ í„°ë„ì„ í†µí•´ ë„ì£¼ ì¤‘ì…ë‹ˆë‹¤. ê²½ì°°ì€ í„°ë„ êµ¬ì¡°ê°€ ì£¼ì–´ì§„ ë§µì—ì„œ íƒˆì£¼ë²”ì„ ì¶”ì í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì£¼ì–´ì§„ ì‹œê°„ L ì´ë‚´ì— **ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ìœ„ì¹˜ì˜ ê°œìˆ˜**ë¥¼ êµ¬í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.

## ğŸ§© ì…ë ¥ ì¡°ê±´

- ë§µì€ N x M í¬ê¸°ì˜ 2ì°¨ì› ë°°ì—´ì…ë‹ˆë‹¤.
- ê° ì…€ì—ëŠ” í„°ë„ì˜ **íƒ€ì…**ì´ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤ (0~7).
- ê° íƒ€ì…ì— ë”°ë¼ ì´ë™ ê°€ëŠ¥í•œ ë°©í–¥ì´ ë‹¤ë¦…ë‹ˆë‹¤.
- ì‹œì‘ ì§€ì  (x, y)ì—ì„œ ì¶œë°œí•˜ì—¬, **ìµœëŒ€ Lì‹œê°„ ë™ì•ˆ ì´ë™**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì´ë™ì€ í„°ë„ì´ ì–‘ë°©í–¥ ì—°ê²°ëœ ê²½ìš°ì—ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## ğŸ”€ í„°ë„ íƒ€ì… ë° ì´ë™ ê°€ëŠ¥ ë°©í–¥

| íƒ€ì… | ì„¤ëª…         | ì´ë™ ê°€ëŠ¥ ë°©í–¥ (ìƒ:0, í•˜:1, ì¢Œ:2, ìš°:3) |
|------|--------------|------------------------------------------|
| 0    | ì—†ìŒ         | []                                       |
| 1    | ìƒí•˜ì¢Œìš°     | [0, 1, 2, 3]                              |
| 2    | ìƒí•˜         | [0, 1]                                   |
| 3    | ì¢Œìš°         | [2, 3]                                   |
| 4    | ìƒìš°         | [0, 3]                                   |
| 5    | í•˜ìš°         | [1, 3]                                   |
| 6    | í•˜ì¢Œ         | [1, 2]                                   |
| 7    | ìƒì¢Œ         | [0, 2]                                   |

> ì—°ê²° ê°€ëŠ¥ ë°©í–¥ì€ ì–‘ë°©í–¥ì´ì–´ì•¼ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ’¡ BFS í•µì‹¬ ë¡œì§

1. ì‹œì‘ì ì—ì„œ BFS íƒìƒ‰ ì‹œì‘
2. í˜„ì¬ ìœ„ì¹˜ì—ì„œ ì—°ê²° ê°€ëŠ¥í•œ ë°©í–¥ìœ¼ë¡œ ì´ë™
3. ì´ë™í•  ìœ„ì¹˜ì˜ í„°ë„ë„ í•´ë‹¹ ë°©í–¥ì—ì„œ ì§„ì… ê°€ëŠ¥í•´ì•¼ í•¨
4. ì‹œê°„(L)ì´ ì´ˆê³¼ë˜ë©´ íƒìƒ‰ ì¢…ë£Œ

```cpp
#include <iostream>
#include <vector>
#include <queue>
#include <algorithm>

using namespace std;

#define ARR_MAX_LEN 55
int T, N, M, R, C, L, answer = 0;
int arrmap[ARR_MAX_LEN][ARR_MAX_LEN] = { 0 };
int timemap[ARR_MAX_LEN][ARR_MAX_LEN] = { 0 };
bool isvisited[ARR_MAX_LEN][ARR_MAX_LEN] = { false };

typedef struct {
	int y;
	int x;
}cord;

queue<cord> q;

// ìƒí•˜ì¢Œìš°
int dy[4] = { -1, 1, 0, 0 };
int dx[4] = { 0, 0, -1, 1 };

// vector ë„ ì•„ë˜ì™€ ê°™ì´ ë°°ì—´ì²˜ëŸ¼ ì´ˆê¸°í™” ê°€ëŠ¥
vector<vector<int> > tunnel = {
	{},
	{0, 1, 2, 3}, // 1 
	{0, 1}, // 2
	{2, 3}, // 3
	{0, 3}, // 4
	{1, 3}, // 5
	{1, 2}, // 6
	{0, 2}// 7 
};
 void input_func() {
	cin >> N >> M >> R >> C >> L;

	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			cin >> arrmap[i][j]; 
		}
	}
}

void init_func() {

	answer = 0;

	while (!q.empty())
		q.pop();

	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			isvisited[i][j] = false;
            timemap[i][j] = 0;
		}
	}
}

void answer_update_func() {
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			if (isvisited[i][j])
				answer++;
		}
	}

}

void debug_func(){
    for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			cout << isvisited[i][j] << " ";
		}
        cout << "\n";
	}
}
void bfs(int y, int x) {

	q.push({ y, x });
	isvisited[y][x] = true;
    timemap[y][x] = 0;
	while (!q.empty()) {
		int cy = q.front().y;
		int cx = q.front().x;
		vector<int> cur_type = tunnel[arrmap[cy][cx]];
		q.pop();
		//cout << type.size() << "\n";
		//cout << "\n";
		if (timemap[cy][cx] >= L - 1)
			continue;
		for (int dir = 0; dir < cur_type.size(); dir++) {
			bool flag = false;
			int ny = cy + dy[cur_type[dir]];
			int nx = cx + dx[cur_type[dir]];
			
			if (ny >= 0 && ny < N && nx >= 0 && nx < M) {
				vector<int> next_type = tunnel[arrmap[ny][nx]];
				// ì‹¤ìˆ˜í•œ ë¶€ë¶„ í˜„ì¬ ë°©í–¥ì„ ì´ë¯¸ ì´ì „ for ë¬¸ì„ í†µí•´ ì•Œê³  ìˆê³ , ë‹¤ìŒ ë°©í–¥ì´ í˜„ì¬ ë°©í–¥ê³¼ ë°˜ëŒ€ì¸ì§€ (ex ì¢Œ <-> ìš°, ìƒ <-> í•˜ ì¸ì§€ë§Œ íŒŒì•…í•˜ë©´ ë¨)
            	for(int j = 0; j < next_type.size(); j++) {
            		if(cur_type[dir] == 0 && next_type[j] == 1)
            			flag = true;
            		else if(cur_type[dir] == 1 && next_type[j] == 0)
            			flag = true;
            		else if(cur_type[dir] == 2 && next_type[j] == 3)
            			flag = true;
            		else if(cur_type[dir] == 3 && next_type[j] == 2)
            			flag = true;
            	}

				if (!isvisited[ny][nx] && arrmap[ny][nx] != 0 && flag) {
					//cout << "check\n";
					q.push({ ny, nx });
					isvisited[ny][nx] = true;
					timemap[ny][nx] = timemap[cy][cx] + 1;
				}
			}
		}
	}
}

int main() {

	cin >> T;

	for (int tc = 1; tc <= T; tc++) {
		
		input_func();

		init_func();

		bfs(R, C);

		answer_update_func();
		
        // debug_func();
		cout << "#" << tc << " " << answer << "\n";
	}

	return 0;
}

```