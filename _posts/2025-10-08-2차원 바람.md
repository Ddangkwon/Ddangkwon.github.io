---
layout : post
title : 2차원 바람
comments : true
categories : 
- CodingTest
tags : [CodingTest, simulation]
---

# 2차원 바람

[https://www.codetree.ai/ko/trails/complete/curated-cards/challenge-The-2D-wind-blows/description](https://www.codetree.ai/ko/trails/complete/curated-cards/challenge-The-2D-wind-blows/description)



## 풀이

```cpp
#include <iostream>
#include <cstring>

using namespace std;

int r1, c1, r2, c2;
int n, m, q;
int arrmap[100][100];
int dy[4] = { -1, 1, 0, 0 };
int dx[4] = { 0, 0, -1, 1 };


void rotate_func(){
    int temp_arrmap[100][100] = { 0 };
    memcpy(temp_arrmap, arrmap, sizeof(arrmap));

    for(int i = c2; i > c1; i--){
        arrmap[r1][i] = temp_arrmap[r1][i - 1];
    }

    for(int i = r2; i > r1; i--){
        arrmap[i][c2] = temp_arrmap[i - 1][c2];
    }

    for(int i = c1; i < c2; i++){
        arrmap[r2][i] = temp_arrmap[r2][i + 1];
    }


    for(int i = r1; i < r2; i++){
        arrmap[i][c1] = temp_arrmap[i + 1][c1];
    }
}

void flatten_avg(){
    int temp_arrmap[100][100] = { 0 };

    memcpy(temp_arrmap, arrmap, sizeof(arrmap));
    for (int i = r1; i <= r2; i++){
        for (int j = c1; j <= c2; j++){
            int avg_cnt = 1, avg_val = temp_arrmap[i][j];
            for(int dir = 0; dir < 4; dir++){
                int ny = i + dy[dir];
                int nx = j + dx[dir];

                if(ny < 0 || ny >= n || nx < 0 || nx >= m)
                    continue;
                avg_cnt++;
                avg_val += temp_arrmap[ny][nx];
            }

            avg_val = avg_val / avg_cnt;
            arrmap[i][j] = avg_val;
                       

        }
    }
}

void print_answer(){
    for (int i = 0; i < n; i++){
        for (int j = 0; j < m; j++){
            cout << arrmap[i][j] << " ";
        } 
        cout << "\n";
    }
        
}
int main() {

    ios::sync_with_stdio(false);
    cin.tie(NULL);
    cout.tie(NULL);
    cin >> n >> m >> q;

    for (int i = 0; i < n; i++)
        for (int j = 0; j < m; j++) 
            cin >> arrmap[i][j];

    for (int i = 0; i < q; i++) {
        
        cin >> r1 >> c1 >> r2 >> c2;
        
        r1--;
        c1--;
        r2--;
        c2--;

        rotate_func();
        flatten_avg();
    }

    print_answer();
    // Please write your code here.

    return 0;
}


```
