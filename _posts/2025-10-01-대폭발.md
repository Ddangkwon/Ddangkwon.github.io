---
layout : post
title : 대폭발
comments : true
categories : 
- CodingTest
tags : [CodingTest, simulation]
---

# 대폭발

[https://www.codetree.ai/ko/trails/complete/curated-cards/challenge-big-explosion/description](https://www.codetree.ai/ko/trails/complete/curated-cards/challenge-big-explosion/description)



## 풀이

```cpp
#include <iostream>
#include <queue>
#include <vector>
#include <cmath>

#define ARR_MAX_LEN 110
using namespace std;

typedef struct{
    int y;
    int x;
}loc_t;

int n, m, r, c, answer = 0;

int arrmap[ARR_MAX_LEN][ARR_MAX_LEN] = { 0 };
bool isvisited[ARR_MAX_LEN][ARR_MAX_LEN] = { false };
int dy[4] = { -1, 1, 0, 0 };
int dx[4] = { 0, 0, -1, 1 };
vector<loc_t> loc_lst;


int main() {

    cin >> n >> m >> r >> c;

    arrmap[r][c] = 1;
    for(int t = 1; t <= m; t++){
        loc_lst.clear();
        for(int i = 1; i <= n; i++){
            for(int j = 1; j <= n; j++){
                if(arrmap[i][j] != 0)
                    loc_lst.push_back({i, j});
            }
        }

        for(int i = 0; i < loc_lst.size(); i++){
            int cy = loc_lst[i].y;
            int cx = loc_lst[i].x;
 
            for(int dir = 0; dir < 4; dir++){
                int ny = cy + (pow(2, (t - 1)) * dy[dir]);
                int nx = cx + (pow(2, (t - 1)) * dx[dir]);

                if(ny < 1 || ny > n || nx < 1 || nx > n)
                    continue;
                
                if(arrmap[ny][nx] == 0 && !isvisited[ny][nx]){
                    arrmap[ny][nx] = 1;
                    isvisited[ny][nx] = true;
                }

            }

        }
    }

    // debug code
    // for(int i = 1; i <= n; i++){
    //     for(int j = 1; j <= n; j++){
    //         cout << arrmap[i][j] << " ";
    //     }
    //     cout << "\n";
    // }

    for(int i = 1; i <= n; i++){
        for(int j = 1; j <= n; j++){
            if(arrmap[i][j] != 0)
                answer++;
        }
    }
    cout << answer << "\n";

    return 0;
}

```