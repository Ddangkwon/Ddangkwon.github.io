---
layout : post
title : STL_Map
comments : true
categories : 
- CodingTest
tags : [CodingTest, STL]
---
# STL_Map



# C++ Standard Library map ì»¨í…Œì´ë„ˆ ì •ë¦¬

ê¸°ë³¸ì ìœ¼ë¡œ key, value ê°’ì´ ìˆëŠ” íŒŒì´ì¬ì˜ dictionary íƒ€ì…ê³¼ ìœ ì‚¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

## ğŸ“˜ map ê°œìš”

- **í—¤ë” íŒŒì¼**: <map>
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: std
- **ë‚´ë¶€ êµ¬ì¡°**: Red-Black Tree (ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì˜ ì¼ì¢…)
- **í‚¤ ì¤‘ë³µ**: í—ˆìš©í•˜ì§€ ì•ŠìŒ (ê°™ì€ í‚¤ë¡œ ì‚½ì…í•˜ë©´ ê¸°ì¡´ ê°’ì„ ë®ì–´ì”€)
- **ì •ë ¬ ê¸°ì¤€**: ê¸°ë³¸ì ìœ¼ë¡œ std::less<Key> (ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬)
- **ì‹œê°„ ë³µì¡ë„**: ì‚½ì…/ì‚­ì œ/íƒìƒ‰ O(log n)

## ğŸ“Œ ì£¼ìš” íŠ¹ì§•

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| ìë™ ì •ë ¬ | í‚¤ ê¸°ì¤€ìœ¼ë¡œ ìë™ ì •ë ¬ë¨ (ê¸°ë³¸ ì˜¤ë¦„ì°¨ìˆœ) |
| ìœ ì¼í•œ í‚¤ | ë™ì¼ í‚¤ í—ˆìš© ì•ˆ ë¨ |
| Key, Value íƒ€ì… ì§€ì • | std::map<Key, Value> í˜•íƒœ |
| íƒìƒ‰ ìµœì í™” | find, lower_bound, upper_bound ë“± íƒìƒ‰ í•¨ìˆ˜ ì œê³µ |
| ë°˜ë³µì ì§€ì› | begin(), end(), rbegin(), rend() ë“± ì§€ì› |

## ğŸ›  ê¸°ë³¸ ì‚¬ìš©ë²• ì˜ˆì‹œ

```cpp
#include <iostream>
#include <map>
#include <string>
using namespace std;

// ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ comparator
struct Desc {
    bool operator()(const string& a, const string& b) const {
        return a > b; // keyê°€ í° ìˆœì„œë¡œ ì •ë ¬
    }
};

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    // map ì„ ì–¸ (ê¸°ë³¸: ì˜¤ë¦„ì°¨ìˆœ)
    map<string, int> score;

    // â‘  ì‚½ì…
    score["Kim"] = 90;                       // operator[] ë°©ì‹
    score.insert({"Lee", 85});               // initializer_list
    score.insert(make_pair("Park", 95));     // make_pair()

    // â‘¡ íƒìƒ‰(find) ë° ìˆ˜ì •
    if (auto it = score.find("Lee"); it != score.end()) {
        cout << "[íƒìƒ‰ ì„±ê³µ] " << it->first << " : " << it->second << '\n';
        it->second = 88;
        cout << "[ìˆ˜ì • ì™„ë£Œ] Lee â†’ " << it->second << '\n';
    }

    // â‘¢ ì‚­ì œ(erase)
    score.erase("Kim");
    if (!score.count("Kim"))
        cout << "[ì‚­ì œ í™•ì¸] Kim ì—†ìŒ\n";

    // â‘£ iterator ê¸°ë°˜ for loop ìˆœíšŒ
    cout << "\n[Iterator ê¸°ë°˜ ìˆœíšŒ]\n";
    for (auto it = score.begin(); it != score.end(); ++it)
        cout << it->first << " : " << it->second << '\n';

    // â‘¤ range-based for ìˆœíšŒ
    cout << "\n[Range-based for ìˆœíšŒ]\n";
    for (auto &p : score)
        cout << p.first << " = " << p.second << '\n';

    // â‘¥ lower_bound / upper_bound í…ŒìŠ¤íŠ¸
    cout << "\n[lower_bound / upper_bound í…ŒìŠ¤íŠ¸]\n";
    if (auto lb = score.lower_bound("Lee"); lb != score.end())
        cout << "lower_bound(Lee) â†’ " << lb->first << '\n';

    if (auto ub = score.upper_bound("Lee"); ub != score.end())
        cout << "upper_bound(Lee) â†’ " << ub->first << '\n';

    // â‘¦ map í¬ê¸°
    cout << "\ní˜„ì¬ map í¬ê¸°: " << score.size() << '\n';

    // â‘§ custom comparator (ë‚´ë¦¼ì°¨ìˆœ)
    map<string, int, Desc> descScore;
    descScore["Ahn"] = 70;
    descScore["Choi"] = 92;
    descScore["Baek"] = 88;

    cout << "\n[ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ëœ map]\n";
    for (auto it = descScore.begin(); it != descScore.end(); ++it)
        cout << it->first << " : " << it->second << '\n';

    // â‘¨ ì „ì²´ ì‚­ì œ ë° empty í™•ì¸
    descScore.clear();
    if (descScore.empty())
        cout << "\nëª¨ë“  ë°ì´í„° ì‚­ì œ ì™„ë£Œ\n";

    return 0;
}

```

## ğŸ“š ì£¼ìš” í•¨ìˆ˜ ì •ë¦¬

| í•¨ìˆ˜ | ì„¤ëª… |
|------|------|
| operator[] | í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°’ì— ì ‘ê·¼ ë˜ëŠ” ìƒì„± |
| insert(pair) | ìƒˆ í‚¤-ê°’ ìŒ ì‚½ì… |
| find(key) | í‚¤ë¡œ íƒìƒ‰, ì—†ìœ¼ë©´ end() ë°˜í™˜ |
| erase(key) | í‚¤ì— í•´ë‹¹í•˜ëŠ” ì›ì†Œ ì‚­ì œ |
| clear() | ëª¨ë“  ì›ì†Œ ì‚­ì œ |
| size() | í˜„ì¬ ì›ì†Œ ê°œìˆ˜ ë°˜í™˜ |
| count(key) | í‚¤ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ (0 ë˜ëŠ” 1 ë°˜í™˜) |
| lower_bound(key) | ì£¼ì–´ì§„ í‚¤ ì´ìƒì¸ ì²« ì›ì†Œ ë°˜ë³µì ë°˜í™˜ |
| upper_bound(key) | ì£¼ì–´ì§„ í‚¤ ì´ˆê³¼í•˜ëŠ” ì²« ì›ì†Œ ë°˜ë³µì ë°˜í™˜ |

## ğŸ’¡ ì‘ìš© ì˜ˆì œ

### 1. Frequency Counter

```cpp
#include <iostream>
#include <map>
#include <string>

int main() {
    string text = "hello world";
    map<char, int> freq;

    for (char ch : text) {
        if (ch != ' ')
            freq[ch]++;
    }

    for (const auto& [c, count] : freq) {
        std::cout << c << ": " << count << "\n";
    }

    return 0;
}
```

### 2. ì‚¬ìš©ì ì •ì˜ ì •ë ¬ (ë‚´ë¦¼ì°¨ìˆœ)

```cpp
#include <iostream>
#include <map>

struct Descending {
    bool operator()(int a, int b) const {
        return a > b;
    }
};

int main() {
    map<int, string, Descending> my_map;
    my_map[3] = "three";
    my_map[1] = "one";
    my_map[2] = "two";

    for (const auto& [k, v] : my_map) {
        cout << k << ": " << v << "\n";
    }

    return 0;
}
```

## ğŸ†š map vs unordered_map

| íŠ¹ì§• | map | unordered_map |
|------|-------|-----------------|
| ë‚´ë¶€ êµ¬ì¡° | Red-Black Tree | Hash Table |
| ì •ë ¬ | í‚¤ ê¸°ì¤€ ìë™ ì •ë ¬ | ì •ë ¬ ì—†ìŒ |
| íƒìƒ‰ ì†ë„ | O(log n) | í‰ê·  O(1), ìµœì•… O(n) |
| ì‚¬ìš©ì ì •ì˜ ì •ë ¬ | ê°€ëŠ¥ | ë¶ˆê°€ëŠ¥ |
| í‚¤ íƒ€ì… | ë¹„êµ ê°€ëŠ¥í•œ íƒ€ì… | í•´ì‹œ ê°€ëŠ¥í•œ íƒ€ì… |

## ğŸ” ê´€ë ¨ ì»¨í…Œì´ë„ˆ

- multimap: í‚¤ ì¤‘ë³µ í—ˆìš©í•˜ëŠ” ë²„ì „ (insertë¡œ ë™ì¼ í‚¤ ì—¬ëŸ¬ ê°œ ì €ì¥ ê°€ëŠ¥)
- unordered_map: í•´ì‹œ ê¸°ë°˜ map, ì •ë ¬ì€ ì•ˆ ë˜ì§€ë§Œ í‰ê·  íƒìƒ‰ ì†ë„ ë¹ ë¦„

---

í•„ìš”í•œ ê²½ìš° íŠ¹ì • ìƒí™©ì— ë§ëŠ” map ì‘ìš© ì˜ˆì œë‚˜ ì„±ëŠ¥ ë¹„êµë„ ì¶”ê°€ë¡œ ì„¤ëª…í•´ì¤„ ìˆ˜ ìˆìŒ.



## ì˜ˆì‹œ ë¬¸ì œ
Nê°œì˜ ì •ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ìˆ˜ì—´ì—ì„œ ê° ì›ì†Œì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.




```cpp
#include<cstdio>
#include<map>

using namespace std;

int main(){
    map<int, int> m;
    int num, key, value;
    scanf("%d", &num);
    for(int i = 0; i < num; i++){
        scanf("%d", &key);
        m[key]++;
    }
    
    for(auto x : m){
        printf("%d : %d\n", x.first, x.second);
    }
    
    /*
    for(auto [key, value] : m){
        printf("%d : %d\n", key, value);
    }
    */
    return 0;
}
```