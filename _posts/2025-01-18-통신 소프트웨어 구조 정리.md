---
layout : post
title : 통신 소프트웨어 구조 정리
comments : true
categories : 
- Telecommunication
tags : [Telecommunication]
---

  # SW 구조에서의 PHY, L1, RF, L2 관계
  
  ## 1. 개요
  소프트웨어(SW) 구조에서 PHY, L1, RF, L2는 하드웨어와 소프트웨어 계층 간의 상호작용을 정의하는 중요한 구성 요소입니다. 이 문서에서는 소프트웨어 설계 관점에서 각 계층의 역할과 이들 간의 연관 관계를 정리합니다.
  
  ---
  
  ## 2. 주요 구성 요소 정의
  
  ### 2.1 RF Layer (Radio Frequency Layer)
  - **역할**: RF 하드웨어를 제어하며, 물리적 신호 송수신을 담당.
  - **SW 주요 요소**:
    - RF 드라이버: 하드웨어와의 직접적인 인터페이스.
    - RF 상태 모니터링 및 제어 API: RSSI, 주파수 설정, 출력 전력 제어.
  
  ### 2.2 PHY Layer (Physical Layer)
  - **역할**: 데이터 송수신 시 디지털 신호 처리를 담당하며, 하드웨어(RF)와 상위 계층(L1) 간의 인터페이스 역할.
  - **SW 주요 요소**:
    - 신호 처리 알고리즘 (변조, 복조, 채널 코딩 등).
    - 하드웨어 추상화 계층 (HAL): RF 드라이버와 통신.
    - 오류 수정 및 동기화 처리 모듈.
  
  ### 2.3 L1 Layer (Layer 1)
  - **역할**: PHY와 L2 간의 데이터 흐름 및 타이밍을 관리.
  - **SW 주요 요소**:
    - 스케줄링 및 타이밍 제어 모듈.
    - 데이터 흐름 관리 및 프레임 생성.
    - 프로토콜 구현 (예: HARQ, ARQ).
  
  ### 2.4 L2 Layer (Data Link Layer)
  - **역할**: 상위 계층(L3)과 하위 계층(L1) 간의 데이터 전송의 신뢰성을 보장.
  - **SW 주요 요소**:
    - 데이터 패킷 관리 (프레임 분할 및 재조합).
    - 오류 제어 및 재전송 메커니즘.
    - 다중 접속 관리 및 MAC 프로토콜 구현.
  
  ---
  
  ## 3. SW 구성 요소 간 연관 관계
  
  ### 3.1 RF Layer와 PHY Layer
  - **데이터 흐름**:
    - PHY Layer는 RF Layer를 통해 물리적 신호 송수신을 제어.
    - RF Layer의 상태 정보는 PHY Layer의 신호 처리 알고리즘에 입력으로 사용.
  - **주요 SW 연관**:
    - RF 드라이버는 PHY의 HAL과 통신.
    - PHY는 RF 상태 API를 호출하여 신호 품질을 확인.
  
  ### 3.2 PHY Layer와 L1 Layer
  - **데이터 흐름**:
    - L1 Layer는 PHY Layer에 데이터를 전달하며, PHY는 이를 변조 및 디지털 신호로 변환.
    - PHY Layer의 동작 상태는 L1의 스케줄링 및 데이터 흐름에 영향을 미침.
  - **주요 SW 연관**:
    - PHY는 L1의 요청을 처리하기 위한 API를 제공.
    - L1은 PHY 상태를 모니터링하여 타이밍을 조정.
  
  ### 3.3 L1 Layer와 L2 Layer
  - **데이터 흐름**:
    - L2는 L1에 데이터 패킷을 전달하며, L1은 이를 PHY로 전달.
    - L1은 PHY에서 처리된 데이터를 다시 L2로 전달.
  - **주요 SW 연관**:
    - L1과 L2 간 인터페이스 모듈(API).
    - L2의 재전송 요청은 L1의 프로토콜 스케줄링과 연관됨.
  
  ### 3.4 L2 Layer와 RF Layer
  - **간접 연관**:
    - L2는 RF Layer와 직접적으로 통신하지 않지만, RF 상태 정보는 L2의 오류 제어 메커니즘에 영향을 미침.
    - 예: RF 품질 상태에 따라 L2에서 재전송을 활성화.
  
  ---
  
  ## 4. SW 계층 간 데이터 흐름 예시
  
  ### 4.1 데이터 송신
  1. **L2 Layer**: 데이터 프레임 생성 및 오류 제어 정보 추가.
  2. **L1 Layer**:
     - L2에서 받은 데이터 프레임을 PHY Layer로 전달.
     - 스케줄링 및 타이밍 제어 수행.
  3. **PHY Layer**:
     - 데이터 변조 및 코딩 처리.
     - 디지털 신호를 RF Layer로 전달.
  4. **RF Layer**:
     - 디지털 신호를 아날로그로 변환 후 전송.
  
  ### 4.2 데이터 수신
  1. **RF Layer**:
     - 수신한 아날로그 신호를 디지털 신호로 변환.
  2. **PHY Layer**:
     - 디지털 신호 복조 및 채널 디코딩.
     - 오류 수정 후 데이터를 L1 Layer로 전달.
  3. **L1 Layer**:
     - PHY에서 처리된 데이터를 상위 계층(L2)으로 전달.
     - 타이밍 및 데이터 흐름 관리.
  4. **L2 Layer**:
     - 오류 검증 및 흐름 제어.
     - 상위 계층(L3)으로 데이터 전달.
  
  ---
  
  ## 5. SW 구조 상 요약
  - RF Layer는 하드웨어 제어 및 신호 송수신을 담당하며, PHY Layer와 HAL로 연계.
  - PHY Layer는 디지털 신호 처리를 수행하며, L1과 RF 간의 연결고리 역할.
  - L1 Layer는 타이밍 및 프로토콜 제어를 담당하며, PHY와 L2 간의 인터페이스를 관리.
  - L2 Layer는 데이터 전송의 신뢰성을 보장하며, 상위 계층과의 인터페이스를 제공.
  
  ---
  
  ## 6. SW 계층 구조
  ```
  [Application Layer (L3)]
         |
         V
  [Data Link Layer (L2)]
         |
         V
  [Layer 1 (L1)]
         |
         V
  [Physical Layer (PHY)]
         |
         V
  [Radio Frequency Layer (RF)]
  ```
  
  ---
  
  ## 7. 참고 자료
  - 통신 시스템 소프트웨어 설계 문서.
  - HAL 및 RF 드라이버 구현 사례.
  - 프로토콜 스택 분석 자료 (3GPP, IEEE 802.11).
